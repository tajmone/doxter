# Documentation Source Folder

This folder contains the sources, scripts and temporary files to build Doxter documentation and its [GitHub Pages] website:

- https://git.io/doxter


-----

**Table of Contents**

<!-- MarkdownTOC autolink="true" bracket="round" autoanchor="false" lowercase="only_ascii" uri_encoding="true" levels="1,2,3" -->

- [Folder Contents](#folder-contents)
- [Introduction](#introduction)
- [The Build Process](#the-build-process)
- [Tagged Regions in PB Sources](#tagged-regions-in-pb-sources)
    - [doxter.pb](#doxterpb)
    - [doxter_engine.pb](#doxter_enginepb)

<!-- /MarkdownTOC -->

-----

# Folder Contents

- [`BUILD.bat`][BUILD] — script to build/update documentation
- [`index.asciidoc`][index adoc] — homepage of the documentation

# Introduction

Doxter documentation is hosted inside the [`../docs/`][docs] folder, as autogenerated HTML files. These docs serve as both offline documentation for end users as well as Doxter website, via [GitHub Pages].

# The Build Process

The [`BUILD.bat`][BUILD] script will:

1. Doxterize all the PureBasic source files of the project and create in this folder the AsciiDoc dev documentation for each module (these AsciiDoc files are ignored by Git).
2. Invoke Asciidoctor on the AsciiDoc files in this folder and convert them to HTML standalone docs in the `../docs/` folder.

|      doxter input     |          asciidoc          |         html output          |       description       |
|-----------------------|----------------------------|------------------------------|-------------------------|
|                       | `./index.asciidoc`         | `../docs/index.html`         | Documentation homepage. |
| `../doxter.pb`        | `./doxter.asciidoc`        | `../docs/doxter.html`        | Doxter CLI dev docs.    |
| `../doxter_engine.pb` | `./doxter_engine.asciidoc` | `../docs/doxter_engine.html` | Doxter Engine API docs. |

The [`index.asciidoc`][index adoc] file imports contents from other documents via the [AsciiDoctor `include` directive][ADoc inc] (i.e. from the doxterized sources as well as from [`../README.adoc`][README]). This process of reusing contents across various files is the core philosophy of Doxter — i.e. to avoid redundancy of contents and efforts duplication, aka as [DRY]  (Don't Repeat Yourself), as opposed to WET (Write Everything Twice).

> __NOTE__ — While GitHub supports previewing project documentation in AsciiDoc format, it doesn't support use of the `include` directive. For this reason, to preserve readability of the main [`../README.adoc`][README] file, any contents which are common to both the README and the documentation need to be kept in the README file (as tagged regions) and then imported into the other docs via `include` directives.


# Tagged Regions in PB Sources

Work notes on how documentation regions and regions fragments are organized inside Doxter source files.

Regions are presented here in their intended final order, instead of their actual order of occurence in the source code.

## doxter.pb

- [`doxter.pb`][doxter.pb]

This is the main source file of the Doxter app.
Doxterizing the source file will produce a standalone reference guide to the Doxter command line interface.

The sources defines various regions, many of which are reused by the general documentation.

|           tag           | weight |  subw  |                    sect                    |                        desc                       |
|-------------------------|--------|--------|--------------------------------------------|---------------------------------------------------|
| `custom_attributes`     | `0`    | _auto_ |                                            | Defines AsciiDoc attributes for cross references. |
| `description`           | `1`    | _auto_ |                                            | Example block with short description.             |
| `CLI_Usage`             | `3000` | `.1`   | `== Command Line Options`                  |                                                   |
| `Input_File_Validation` | `3300` | `.1`   | `== Input File Validation`                 | file extensions                                   |
| `Input_File_Validation` |        | _auto_ |                                            | check file exists, is not dir or 0kb              |
| `Output_File`           | `3330` |        |                                            | output file depending on AsciiDoc header          |
| `Parser_Live_Preview`   | `3500` |        | `== Parsing Live Preview During Execution` | (include from `doxter_engine.asciidoc`)           |
| `CHANGELOG`             | `9000` |        | `== CHANGELOG`                             | (include from `../CHANGELOG.adoc`)                |
| `LICENSE`               | `9999` |        | `== License`                               |                                                   |

## doxter_engine.pb

- [`doxter_engine.pb`][doxter_engine.pb]

This is the source file of the engine at the core of Doxter.
Doxterizing the source file will produce a standalone reference guide to the Doxter Engine API, the supported markers and how the parser works.

The sources defines various regions, many of which are reused by the general documentation, and some of the are even included in the output documentation of `doxter.pb`.

Regions in this source file within the 50000 range will be inside comment blocks in the output ADoc file, so they will not be displayed in the API documentation. These regions were conceived to be used in other documentation files, although they belong in this file because they comment parts of its code. 


|           tag            |  weight |  subw |             sect            |                  desc                 |
|--------------------------|---------|-------|-----------------------------|---------------------------------------|
| `description`            |         | `.1`  |                             | Link back to index.                   |
| `description`            | `1`     | `.2`  |                             | Example block with short description. |
| `intro`                  | `1000`  | `.1`  | `== About Doxter Engine`    |                                       |
| `api`                    | `2000`  | `.1`  | `== Engine API`             |                                       |
| `Comments_Marks`         | `3000`  |       | `== Doxter Markers Primer`  |                                       |
| `The_Parser`             | `4000`  |       | `== Doxter's Parser`        |                                       |
| `two_steps_parsing`      | `4010`  |       |                             | [notes on 2 steps parsing]            |
| `The_Parser_continue`    | `4020`  |       |                             |                                       |
| `Header_Parser_Rules`    | `4100`  |       | `==== Header Parser Rules`  |                                       |
| `Regions_Parser_Rules`   | `4200`  |       | `==== Regions Parser Rules` |                                       |
| `Regions_Parser_Rules`   | `4200`  | `.1`  |                             |                                       |
| `Regions_Parser_Rules`   | `4200`  | `.20` |                             |                                       |
| `Regions_Parser_Rules`   | `4200`  | `.30` |                             |                                       |
| `The_Parser_Final_Notes` | `4500`  |       |                             |                                       |
| `CHANGELOG`              | `9000`  |       | `== CHANGELOG`              | (include from `../CHANGELOG.adoc`)    |
| `LICENSE`                | `9999`  |       | `== License`                |                                       |
| _auto_                   | `49999` |       | `////`                      | Start comment block                   |
| _auto_                   | `59999` |       | `////`                      | End comment block                     |



<!-- 
| `ttt` | `www` |         | `xxxxx`   |   |
| `ttt` | `www` | `.ssss` | `xxxxx`   |   |
-->

<!-----------------------------------------------------------------------------
                               REFERENCE LINKS                                
------------------------------------------------------------------------------>

[GitHub Pages]: https://pages.github.com/ "Learn more about GitHub Pages"

[ADoc inc]: link:https://asciidoctor.org/docs/user-manual/#by-tagged-regions "Read Asciidoctor documentation on tagged regions"

[DRY]: https://en.wikipedia.org/wiki/Don%27t_repeat_yourself "Read more about the DRY principle on WikiPedia"

<!-- Project Files -->

[BUILD]:            ./BUILD.bat         "View source file"
[index adoc]:       ./index.asciidoc    "View source file"
[docs]:             ../docs/            "View source file"
[README]:           ../README.adoc      "View source file"
[doxter.pb]:        ../doxter.pb        "View source file"
[doxter_engine.pb]: ../doxter_engine.pb "View source file"

<!-- EOF -->